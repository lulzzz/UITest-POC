
@model List<MOF.Etimad.Monafasat.ViewModel.NegotiationOfferModel>
<div class="row" id="basicDetials">
   <div class="col-12">
      <h4 class="text-primary">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.OffersDetails</h4>
   </div>
   <div class="col-md-12 col-sm-12 col-xs-12">
      <table class="table table-striped table-bordered" summary="">

         <thead>
            <tr>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.CommercialName</th>

               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.OfferResources.DisplayInputs.CommercialNumber</th>

               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.OfferNumber</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.OfferResources.DisplayInputs.OfferAmount</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.CommunicationRequest.DisplayInputs.AmountAfterDiscount</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.CommunicationRequest.DisplayInputs.AmountAfterDiscount</th>

               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.InvitationPurchaseStatus</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.CheckOffer</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.TenderResources.DisplayInputs.TechnicalEvaluation</th>
               <th scope="col" class="text-center">حالة طلب التخفيض</th>
               <th scope="col" class="text-center">@MOF.Etimad.Monafasat.Resources.SharedResources.DisplayInputs.Options</th>
            </tr>

         </thead>
         <tbody>
            @{
               int x = 1;
               int offerscount = Model.Count();
               foreach (var offer in Model.OrderBy(f => f.AmountAfterNegotiationDiscount).ToList())
               {
                  <tr>
                     <td onclick="getSupplierInfo('@offer.CommericalNumber')"><a href="#">@offer.CommercialCompanyName</a></td>

                     <td>@offer.CommericalNumber</td>
                     <td>@(x + "/" + offerscount)</td>


                     <td>@offer.OfferAmount</td>
                     <td>@(String.Format("{0:0.00}", offer.AmountAfterNegotiationDiscount))</td>
                     <td>@offer.AmountAfterNegotiationDiscountText</td>
                     <td>@offer.BuyStatus</td>
                     <td>@offer.OfferCheck</td>
                     <td>@offer.TechnicalCheck</td>
                     <td>@offer.statusName</td>

                     <td>
                        <div class="dropdown">
                           <button class="btn btn-primary btn-link btn-just-icon " data-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i> <div class="ripple-container"></div></button>
                           <div class="dropdown-menu dropdown-menu-left" x-placement="bottom-end">

                              <a class="dropdown-item" href="#" onclick="ViewFinancialDetails('@offer.offerIdString')"  > <i class="material-icons">format_list_bulleted</i>  تفاصيل العرض </a>
                              <a class="dropdown-item" asp-controller="CommunicationRequest" asp-action="OfferNegotiationFiles" asp-route-offerid="@(offer.offerIdString)"><i class="material-icons">format_list_bulleted</i>  ملفات العرض  </a>
                           </div>
                        </div>
                     </td>
                  </tr>
                  x++;
               }
            }

         </tbody>
      </table>
   </div>
</div>
